/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package logger;

import org.junit.FixMethodOrder;
import org.junit.Test;
import org.junit.runners.MethodSorters;

import events.EventsWriter;
import events.EventsWriter.Level;

import java.util.function.BooleanSupplier;
import java.util.function.DoubleSupplier;
import java.util.function.IntSupplier;
import java.util.function.LongSupplier;
import metrics.TimeseriesWriter;

@FixMethodOrder(MethodSorters.NAME_ASCENDING)
public class CSVWriterTests {
    @Test
    public void EventLogMethod() {

        EventsWriter eventHandler = new EventsWriter("events", Level.ERROR);

        eventHandler.writeToEventLog(EventsWriter.Level.ERROR,
                "Lorem ipsum dolor sit amet, liber dicant regione qui at, ea voluptatum inciderint quo, aliquando assentior philosophia mel eu. Mazim noster ne pro, tale facilisi qui et. Cum te omnis tantas alienum. Mel ad viris tempor virtute, nostro persius mea te. Cu his propriae invenire. His officiis intellegam dissentiunt id, eu tota ceteros vel.");
        eventHandler.writeToEventLog(EventsWriter.Level.INFO,
                "No natum persequeris ullamcorper eos, ex ius euismod lucilius suscipiantur. Audiam numquam imperdiet mei et, ipsum velit insolens ut vel. Ea dicta verear veritus est. Sed affert facilis sententiae ne, partiendo scripserit ex has. Impedit tractatos pri ad, sit deleniti sensibus et, qui ea dico oblique admodum.");
        eventHandler.writeToEventLog(EventsWriter.Level.WARN,
                "Dictas intellegat nec no, ius minimum consequuntur ne, eu his veri quaerendum repudiandae. Simul offendit scaevola ad mei. Eos amet omnes consectetuer ea, eu albucius luptatum signiferumque sit. Vocent suscipit referrentur ex vel.");

    }

    @Test
    public void TimeseriesLogMethod() {
        TimeseriesWriter timeseriesHandler = new TimeseriesWriter("timeseries");

        DoubleSupplier doubleSupplier = () -> Math.random();
        BooleanSupplier booleanSupplier = () -> true;
        LongSupplier longSupplier = () -> System.currentTimeMillis();
        IntSupplier integerSupplier = () -> Integer.MAX_VALUE;

        timeseriesHandler.registerMetric("Bool", booleanSupplier);
        timeseriesHandler.registerMetric("Int", integerSupplier);
        timeseriesHandler.registerMetric("Long", longSupplier);
        timeseriesHandler.registerMetric("Double", doubleSupplier);

        for (int i = 0; i < 10; i++) {
            timeseriesHandler.writeMetricsToTimeseriesLog();
        }
    }
}
